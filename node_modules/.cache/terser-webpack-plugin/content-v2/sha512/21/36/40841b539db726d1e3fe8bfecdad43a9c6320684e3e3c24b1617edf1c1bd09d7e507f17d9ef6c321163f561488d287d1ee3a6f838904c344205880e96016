{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=8)}([function(t,e){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},function(t,e){function n(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function i(t,e,n,i){var o,r,a,s,l,h,u=Math.abs,p=[];for(o=t<n?1:-1,r=e<i?1:-1,l=(a=u(n-t))-(s=u(i-e));p.push([t,e]),t!==n||e!==i;)(h=2*l)>-s&&(l-=s,t+=o),h<a&&(l+=a,e+=r);return p}e.backtrace=n,e.biBacktrace=function(t,e){var i=n(t),o=n(e);return i.concat(o.reverse())},e.pathLength=function(t){var e,n,i,o,r,a=0;for(e=1;e<t.length;++e)n=t[e-1],i=t[e],o=n[0]-i[0],r=n[1]-i[1],a+=Math.sqrt(o*o+r*r);return a},e.interpolate=i,e.expandPath=function(t){var e,n,o,r,a,s,l=[],h=t.length;if(h<2)return l;for(a=0;a<h-1;++a)for(e=t[a],n=t[a+1],r=(o=i(e[0],e[1],n[0],n[1])).length,s=0;s<r-1;++s)l.push(o[s]);return l.push(t[h-1]),l},e.smoothenPath=function(t,e){var n,o,r,a,s,l,h,u,p,c=e.length,d=e[0][0],f=e[0][1],g=e[c-1][0],b=e[c-1][1];for(r=[[n=d,o=f]],a=2;a<c;++a){for(h=i(n,o,(l=e[a])[0],l[1]),p=!1,s=1;s<h.length;++s)if(u=h[s],!t.isWalkableAt(u[0],u[1])){p=!0;break}p&&(lastValidCoord=e[a-1],r.push(lastValidCoord),n=lastValidCoord[0],o=lastValidCoord[1])}return r.push([g,b]),r},e.compressPath=function(t){if(t.length<3)return t;var e,n,i,o,r,a,s=[],l=t[0][0],h=t[0][1],u=t[1][0],p=t[1][1],c=u-l,d=p-h;for(c/=r=Math.sqrt(c*c+d*d),d/=r,s.push([l,h]),a=2;a<t.length;a++)e=u,n=p,i=c,o=d,c=(u=t[a][0])-e,d=(p=t[a][1])-n,d/=r=Math.sqrt(c*c+d*d),(c/=r)===i&&d===o||s.push([e,n]);return s.push([u,p]),s}},function(t,e){t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},function(t,e,n){t.exports=n(11)},function(t,e,n){var i=n(3),o=n(1),r=n(2);n(0);function a(t){t=t||{},this.heuristic=t.heuristic||r.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}a.prototype.findPath=function(t,e,n,r,a){var s,l=this.openList=new i((function(t,e){return t.f-e.f})),h=this.startNode=a.getNodeAt(t,e),u=this.endNode=a.getNodeAt(n,r);for(this.grid=a,h.g=0,h.f=0,l.push(h),h.opened=!0;!l.empty();){if((s=l.pop()).closed=!0,s===u)return o.expandPath(o.backtrace(u));this._identifySuccessors(s)}return[]},a.prototype._identifySuccessors=function(t){var e,n,i,o,a,s,l,h,u,p,c=this.grid,d=this.heuristic,f=this.openList,g=this.endNode.x,b=this.endNode.y,v=t.x,y=t.y,m=Math.abs;Math.max;for(o=0,a=(e=this._findNeighbors(t)).length;o<a;++o)if(n=e[o],i=this._jump(n[0],n[1],v,y)){if(s=i[0],l=i[1],(p=c.getNodeAt(s,l)).closed)continue;h=r.octile(m(s-v),m(l-y)),u=t.g+h,(!p.opened||u<p.g)&&(p.g=u,p.h=p.h||d(m(s-g),m(l-b)),p.f=p.g+p.h,p.parent=t,p.opened?f.updateItem(p):(f.push(p),p.opened=!0))}},t.exports=a},function(t,e){t.exports=function(t,e,n){this.x=t,this.y=e,this.walkable=void 0===n||n}},function(t,e,n){var i=n(3),o=n(1),r=n(2),a=n(0);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}s.prototype.findPath=function(t,e,n,r,a){var s,l,h,u,p,c,d,f,g=new i((function(t,e){return t.f-e.f})),b=a.getNodeAt(t,e),v=a.getNodeAt(n,r),y=this.heuristic,m=this.diagonalMovement,A=this.weight,k=Math.abs,w=Math.SQRT2;for(b.g=0,b.f=0,g.push(b),b.opened=!0;!g.empty();){if((s=g.pop()).closed=!0,s===v)return o.backtrace(v);for(u=0,p=(l=a.getNeighbors(s,m)).length;u<p;++u)(h=l[u]).closed||(c=h.x,d=h.y,f=s.g+(c-s.x==0||d-s.y==0?1:w),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||A*y(k(c-n),k(d-r)),h.f=h.g+h.h,h.parent=s,h.opened?g.updateItem(h):(g.push(h),h.opened=!0)))}return[]},t.exports=s},function(t,e,n){var i=n(3),o=n(1),r=n(2),a=n(0);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}s.prototype.findPath=function(t,e,n,r,a){var s,l,h,u,p,c,d,f,g=function(t,e){return t.f-e.f},b=new i(g),v=new i(g),y=a.getNodeAt(t,e),m=a.getNodeAt(n,r),A=this.heuristic,k=this.diagonalMovement,w=this.weight,W=Math.abs,M=Math.SQRT2;for(y.g=0,y.f=0,b.push(y),y.opened=1,m.g=0,m.f=0,v.push(m),m.opened=2;!b.empty()&&!v.empty();){for((s=b.pop()).closed=!0,u=0,p=(l=a.getNeighbors(s,k)).length;u<p;++u)if(!(h=l[u]).closed){if(2===h.opened)return o.biBacktrace(s,h);c=h.x,d=h.y,f=s.g+(c-s.x==0||d-s.y==0?1:M),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||w*A(W(c-n),W(d-r)),h.f=h.g+h.h,h.parent=s,h.opened?b.updateItem(h):(b.push(h),h.opened=1))}for((s=v.pop()).closed=!0,u=0,p=(l=a.getNeighbors(s,k)).length;u<p;++u)if(!(h=l[u]).closed){if(1===h.opened)return o.biBacktrace(h,s);c=h.x,d=h.y,f=s.g+(c-s.x==0||d-s.y==0?1:M),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||w*A(W(c-t),W(d-e)),h.f=h.g+h.h,h.parent=s,h.opened?v.updateItem(h):(v.push(h),h.opened=2))}}return[]},t.exports=s},function(t,e,n){var i,o,r,a,s,l,h,u,p,c,d=n(9),f=document.getElementById(\"container\"),g=!1,b=[];function v(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)}function y(t){t.preventDefault(),s.set(t.clientX/window.innerWidth*2-1,-t.clientY/window.innerHeight*2+1),l.setFromCamera(s,i);var e=l.intersectObjects(b);if(e.length>0){var n=e[0];h.position.copy(n.point).add(n.face.normal),h.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25)}w()}function m(t){t.preventDefault(),s.set(t.clientX/window.innerWidth*2-1,-t.clientY/window.innerHeight*2+1),l.setFromCamera(s,i);var e=l.intersectObjects(b);if(e.length>0){var n=e[0];if(g)n.object!==a&&(o.remove(n.object),b.splice(b.indexOf(n.object),1));else{var r=new THREE.Mesh(p,c);r.position.copy(n.point).add(n.face.normal),r.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25),console.log(r.position),25==r.position.y&&(o.add(r),b.push(r))}w()}}function A(t){switch(t.keyCode){case 16:g=!0}}function k(t){switch(t.keyCode){case 16:g=!1}}function w(){r.render(o,i)}!function(){(i=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e4)).position.set(150,1400,700),i.lookAt(0,0,0),(o=new THREE.Scene).background=new THREE.Color(15790320);var t=new THREE.BoxBufferGeometry(50,50,50);u=new THREE.MeshBasicMaterial({color:16711680,opacity:.5,transparent:!0}),h=new THREE.Mesh(t,u),o.add(h),p=new THREE.BoxBufferGeometry(50,50,50),c=new THREE.MeshLambertMaterial({color:16693068});var e=new THREE.GridHelper(1e3,20);o.add(e),l=new THREE.Raycaster,s=new THREE.Vector2;var n=new THREE.PlaneBufferGeometry(1e3,1e3);n.rotateX(-Math.PI/2),a=new THREE.Mesh(n,new THREE.MeshBasicMaterial({visible:!1})),o.add(a),b.push(a);var g=new THREE.AmbientLight(6316128);o.add(g);var W=new THREE.DirectionalLight(16777215);W.position.set(1,.75,.5).normalize(),o.add(W),(r=new THREE.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight);var M=new THREE.Mesh(p,new THREE.MeshLambertMaterial({color:1046348}));M.position.copy({x:-475,y:25,z:-475}),o.add(M),b.push(M);var x=new THREE.Mesh(p,new THREE.MeshLambertMaterial({color:63484}));x.position.copy({x:475,y:25,z:475}),o.add(x),b.push(x),$(\"#findBtn\").click((function(){var t=new d.Grid(function(){for(var t=[],e=1;e<=20;e++){for(var n=[],i=1;i<=20;i++)n.push(0);t.push(n)}return t}()),e=new d.AStarFinder;e.findPath(0,0,19,19,t).forEach(t=>{var e=new THREE.Mesh(p,new THREE.MeshLambertMaterial({color:15066584,opacity:.7,transparent:!0}));e.position.copy({x:50*t[0]-475,y:25,z:50*t[1]-475}),o.add(e)}),w()})),f.appendChild(r.domElement),document.addEventListener(\"mousemove\",y,!1),document.addEventListener(\"mousedown\",m,!1),document.addEventListener(\"keydown\",A,!1),document.addEventListener(\"keyup\",k,!1),window.addEventListener(\"resize\",v,!1)}(),w()},function(t,e,n){t.exports=n(10)},function(t,e,n){t.exports={Heap:n(3),Node:n(5),Grid:n(13),Util:n(1),DiagonalMovement:n(0),Heuristic:n(2),AStarFinder:n(6),BestFirstFinder:n(14),BreadthFirstFinder:n(15),DijkstraFinder:n(16),BiAStarFinder:n(7),BiBestFirstFinder:n(17),BiBreadthFirstFinder:n(18),BiDijkstraFinder:n(19),IDAStarFinder:n(20),JumpPointFinder:n(21)}},function(t,e,n){(function(t){(function(){var e,n,i,o,r,a,s,l,h,u,p,c,d,f,g;i=Math.floor,u=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,o,r,a){var s;if(null==o&&(o=0),null==a&&(a=n),o<0)throw new Error(\"lo must be non-negative\");for(null==r&&(r=t.length);o<r;)a(e,t[s=i((o+r)/2)])<0?r=s:o=s+1;return[].splice.apply(t,[o,o-o].concat(e)),e},a=function(t,e,i){return null==i&&(i=n),t.push(e),f(t,0,t.length-1,i)},r=function(t,e){var i,o;return null==e&&(e=n),i=t.pop(),t.length?(o=t[0],t[0]=i,g(t,0,e)):o=i,o},l=function(t,e,i){var o;return null==i&&(i=n),o=t[0],t[0]=e,g(t,0,i),o},s=function(t,e,i){var o;return null==i&&(i=n),t.length&&i(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],g(t,0,i)),e},o=function(t,e){var o,r,a,s,l,h;for(null==e&&(e=n),l=[],r=0,a=(s=function(){h=[];for(var e=0,n=i(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)h.push(e);return h}.apply(this).reverse()).length;r<a;r++)o=s[r],l.push(g(t,o,e));return l},d=function(t,e,i){var o;if(null==i&&(i=n),-1!==(o=t.indexOf(e)))return f(t,0,o,i),g(t,o,i)},p=function(t,e,i){var r,a,l,h,u;if(null==i&&(i=n),!(a=t.slice(0,e)).length)return a;for(o(a,i),l=0,h=(u=t.slice(e)).length;l<h;l++)r=u[l],s(a,r,i);return a.sort(i).reverse()},c=function(t,e,i){var a,s,l,p,c,d,f,g,b;if(null==i&&(i=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(i)).length)return l;for(s=l[l.length-1],p=0,d=(f=t.slice(e)).length;p<d;p++)i(a=f[p],s)<0&&(h(l,a,0,null,i),l.pop(),s=l[l.length-1]);return l}for(o(t,i),b=[],c=0,g=u(e,t.length);0<=g?c<g:c>g;0<=g?++c:--c)b.push(r(t,i));return b},f=function(t,e,i,o){var r,a,s;for(null==o&&(o=n),r=t[i];i>e&&o(r,a=t[s=i-1>>1])<0;)t[i]=a,i=s;return t[i]=r},g=function(t,e,i){var o,r,a,s,l;for(null==i&&(i=n),r=t.length,l=e,a=t[e],o=2*e+1;o<r;)(s=o+1)<r&&!(i(t[o],t[s])<0)&&(o=s),t[e]=t[o],o=2*(e=o)+1;return t[e]=a,f(t,l,e,i)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=r,t.replace=l,t.pushpop=s,t.heapify=o,t.updateItem=d,t.nlargest=p,t.nsmallest=c,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return d(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),(null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)}).call(this,n(12)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i=n(5),o=n(0);function r(t,e,n){var i;\"object\"!=typeof t?i=t:(e=t.length,i=t[0].length,n=t),this.width=i,this.height=e,this.nodes=this._buildNodes(i,e,n)}r.prototype._buildNodes=function(t,e,n){var o,r,a=new Array(e);for(o=0;o<e;++o)for(a[o]=new Array(t),r=0;r<t;++r)a[o][r]=new i(r,o);if(void 0===n)return a;if(n.length!==e||n[0].length!==t)throw new Error(\"Matrix size does not fit\");for(o=0;o<e;++o)for(r=0;r<t;++r)n[o][r]&&(a[o][r].walkable=!1);return a},r.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},r.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},r.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},r.prototype.setWalkableAt=function(t,e,n){this.nodes[e][t].walkable=n},r.prototype.getNeighbors=function(t,e){var n=t.x,i=t.y,r=[],a=!1,s=!1,l=!1,h=!1,u=!1,p=!1,c=!1,d=!1,f=this.nodes;if(this.isWalkableAt(n,i-1)&&(r.push(f[i-1][n]),a=!0),this.isWalkableAt(n+1,i)&&(r.push(f[i][n+1]),l=!0),this.isWalkableAt(n,i+1)&&(r.push(f[i+1][n]),u=!0),this.isWalkableAt(n-1,i)&&(r.push(f[i][n-1]),c=!0),e===o.Never)return r;if(e===o.OnlyWhenNoObstacles)s=c&&a,h=a&&l,p=l&&u,d=u&&c;else if(e===o.IfAtMostOneObstacle)s=c||a,h=a||l,p=l||u,d=u||c;else{if(e!==o.Always)throw new Error(\"Incorrect value of diagonalMovement\");s=!0,h=!0,p=!0,d=!0}return s&&this.isWalkableAt(n-1,i-1)&&r.push(f[i-1][n-1]),h&&this.isWalkableAt(n+1,i-1)&&r.push(f[i-1][n+1]),p&&this.isWalkableAt(n+1,i+1)&&r.push(f[i+1][n+1]),d&&this.isWalkableAt(n-1,i+1)&&r.push(f[i+1][n-1]),r},r.prototype.clone=function(){var t,e,n=this.width,o=this.height,a=this.nodes,s=new r(n,o),l=new Array(o);for(t=0;t<o;++t)for(l[t]=new Array(n),e=0;e<n;++e)l[t][e]=new i(e,t,a[t][e].walkable);return s.nodes=l,s},t.exports=r},function(t,e,n){var i=n(6);function o(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},function(t,e,n){var i=n(1),o=n(0);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}r.prototype.findPath=function(t,e,n,o,r){var a,s,l,h,u,p=[],c=this.diagonalMovement,d=r.getNodeAt(t,e),f=r.getNodeAt(n,o);for(p.push(d),d.opened=!0;p.length;){if((l=p.shift()).closed=!0,l===f)return i.backtrace(f);for(h=0,u=(a=r.getNeighbors(l,c)).length;h<u;++h)(s=a[h]).closed||s.opened||(p.push(s),s.opened=!0,s.parent=l)}return[]},t.exports=r},function(t,e,n){var i=n(6);function o(t){i.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},function(t,e,n){var i=n(7);function o(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,n){return 1e6*e(t,n)}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},function(t,e,n){var i=n(1),o=n(0);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}r.prototype.findPath=function(t,e,n,o,r){var a,s,l,h,u,p=r.getNodeAt(t,e),c=r.getNodeAt(n,o),d=[],f=[],g=this.diagonalMovement;for(d.push(p),p.opened=!0,p.by=0,f.push(c),c.opened=!0,c.by=1;d.length&&f.length;){for((l=d.shift()).closed=!0,h=0,u=(a=r.getNeighbors(l,g)).length;h<u;++h)if(!(s=a[h]).closed)if(s.opened){if(1===s.by)return i.biBacktrace(l,s)}else d.push(s),s.parent=l,s.opened=!0,s.by=0;for((l=f.shift()).closed=!0,h=0,u=(a=r.getNeighbors(l,g)).length;h<u;++h)if(!(s=a[h]).closed)if(s.opened){if(0===s.by)return i.biBacktrace(s,l)}else f.push(s),s.parent=l,s.opened=!0,s.by=1}return[]},t.exports=r},function(t,e,n){var i=n(7);function o(t){i.call(this,t),this.heuristic=function(t,e){return 0}}o.prototype=new i,o.prototype.constructor=o,t.exports=o},function(t,e,n){n(1);var i=n(2),o=n(5),r=n(0);function a(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never),this.diagonalMovement===r.Never?this.heuristic=t.heuristic||i.manhattan:this.heuristic=t.heuristic||i.octile}a.prototype.findPath=function(t,e,n,i,r){var a,s,l,h=(new Date).getTime(),u=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),p=function(t,e,n,i,a){if(this.timeLimit>0&&(new Date).getTime()-h>1e3*this.timeLimit)return 1/0;var s,l,c,f,g=e+u(t,d)*this.weight;if(g>n)return g;if(t==d)return i[a]=[t.x,t.y],t;var b,v,y=r.getNeighbors(t,this.diagonalMovement);for(c=0,s=1/0;f=y[c];++c){if(this.trackRecursion&&(f.retainCount=f.retainCount+1||1,!0!==f.tested&&(f.tested=!0)),(l=p(f,e+(v=f,(b=t).x===v.x||b.y===v.y?1:Math.SQRT2),n,i,a+1))instanceof o)return i[a]=[t.x,t.y],l;this.trackRecursion&&0==--f.retainCount&&(f.tested=!1),l<s&&(s=l)}return s}.bind(this),c=r.getNodeAt(t,e),d=r.getNodeAt(n,i),f=u(c,d);for(a=0;;++a){if((l=p(c,0,f,s=[],0))===1/0)return[];if(l instanceof o)return s;f=l}return[]},t.exports=a},function(t,e,n){var i=n(0),o=n(22),r=n(23),a=n(24),s=n(25);t.exports=function(t){return(t=t||{}).diagonalMovement===i.Never?new o(t):t.diagonalMovement===i.Always?new r(t):t.diagonalMovement===i.OnlyWhenNoObstacles?new a(t):new s(t)}},function(t,e,n){var i=n(4),o=n(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-r,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-r,e+1))return[t,e]}else{if(0===a)throw new Error(\"Only horizontal and vertical movements are allowed\");if(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+r,e+a,t,e)},r.prototype._findNeighbors=function(t){var e,n,i,r,a,s,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-n)/Math.max(Math.abs(c-n),1),0!==i?(d.isWalkableAt(p,c-1)&&f.push([p,c-1]),d.isWalkableAt(p,c+1)&&f.push([p,c+1]),d.isWalkableAt(p+i,c)&&f.push([p+i,c])):0!==r&&(d.isWalkableAt(p-1,c)&&f.push([p-1,c]),d.isWalkableAt(p+1,c)&&f.push([p+1,c]),d.isWalkableAt(p,c+r)&&f.push([p,c+r]));else for(l=0,h=(a=d.getNeighbors(t,o.Never)).length;l<h;++l)s=a[l],f.push([s.x,s.y]);return f},t.exports=r},function(t,e,n){var i=n(4),o=n(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==a){if(o.isWalkableAt(t-r,e+a)&&!o.isWalkableAt(t-r,e)||o.isWalkableAt(t+r,e-a)&&!o.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t+r,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+r,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return[t,e];return this._jump(t+r,e+a,t,e)},r.prototype._findNeighbors=function(t){var e,n,i,r,a,s,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==r?(d.isWalkableAt(p,c+r)&&f.push([p,c+r]),d.isWalkableAt(p+i,c)&&f.push([p+i,c]),d.isWalkableAt(p+i,c+r)&&f.push([p+i,c+r]),d.isWalkableAt(p-i,c)||f.push([p-i,c+r]),d.isWalkableAt(p,c-r)||f.push([p+i,c-r])):0===i?(d.isWalkableAt(p,c+r)&&f.push([p,c+r]),d.isWalkableAt(p+1,c)||f.push([p+1,c+r]),d.isWalkableAt(p-1,c)||f.push([p-1,c+r])):(d.isWalkableAt(p+i,c)&&f.push([p+i,c]),d.isWalkableAt(p,c+1)||f.push([p+i,c+1]),d.isWalkableAt(p,c-1)||f.push([p+i,c-1]));else for(l=0,h=(a=d.getNeighbors(t,o.Always)).length;l<h;++l)s=a[l],f.push([s.x,s.y]);return f},t.exports=r},function(t,e,n){var i=n(4),o=n(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==a){if(this._jump(t+r,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t,e-1)&&!o.isWalkableAt(t-r,e-1)||o.isWalkableAt(t,e+1)&&!o.isWalkableAt(t-r,e+1))return[t,e]}else if(0!==a&&(o.isWalkableAt(t-1,e)&&!o.isWalkableAt(t-1,e-a)||o.isWalkableAt(t+1,e)&&!o.isWalkableAt(t+1,e-a)))return[t,e];return o.isWalkableAt(t+r,e)&&o.isWalkableAt(t,e+a)?this._jump(t+r,e+a,t,e):null},r.prototype._findNeighbors=function(t){var e,n,i,r,a,s,l,h,u,p=t.parent,c=t.x,d=t.y,f=this.grid,g=[];if(p){if(e=p.x,n=p.y,i=(c-e)/Math.max(Math.abs(c-e),1),r=(d-n)/Math.max(Math.abs(d-n),1),0!==i&&0!==r)f.isWalkableAt(c,d+r)&&g.push([c,d+r]),f.isWalkableAt(c+i,d)&&g.push([c+i,d]),f.isWalkableAt(c,d+r)&&f.isWalkableAt(c+i,d)&&g.push([c+i,d+r]);else if(0!==i){u=f.isWalkableAt(c+i,d);var b=f.isWalkableAt(c,d+1),v=f.isWalkableAt(c,d-1);u&&(g.push([c+i,d]),b&&g.push([c+i,d+1]),v&&g.push([c+i,d-1])),b&&g.push([c,d+1]),v&&g.push([c,d-1])}else if(0!==r){u=f.isWalkableAt(c,d+r);var y=f.isWalkableAt(c+1,d),m=f.isWalkableAt(c-1,d);u&&(g.push([c,d+r]),y&&g.push([c+1,d+r]),m&&g.push([c-1,d+r])),y&&g.push([c+1,d]),m&&g.push([c-1,d])}}else for(l=0,h=(a=f.getNeighbors(t,o.OnlyWhenNoObstacles)).length;l<h;++l)s=a[l],g.push([s.x,s.y]);return g},t.exports=r},function(t,e,n){var i=n(4),o=n(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,n,i){var o=this.grid,r=t-n,a=e-i;if(!o.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(t,e).tested=!0),o.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==a){if(o.isWalkableAt(t-r,e+a)&&!o.isWalkableAt(t-r,e)||o.isWalkableAt(t+r,e-a)&&!o.isWalkableAt(t,e-a))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+a,t,e))return[t,e]}else if(0!==r){if(o.isWalkableAt(t+r,e+1)&&!o.isWalkableAt(t,e+1)||o.isWalkableAt(t+r,e-1)&&!o.isWalkableAt(t,e-1))return[t,e]}else if(o.isWalkableAt(t+1,e+a)&&!o.isWalkableAt(t+1,e)||o.isWalkableAt(t-1,e+a)&&!o.isWalkableAt(t-1,e))return[t,e];return o.isWalkableAt(t+r,e)||o.isWalkableAt(t,e+a)?this._jump(t+r,e+a,t,e):null},r.prototype._findNeighbors=function(t){var e,n,i,r,a,s,l,h,u=t.parent,p=t.x,c=t.y,d=this.grid,f=[];if(u)e=u.x,n=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-n)/Math.max(Math.abs(c-n),1),0!==i&&0!==r?(d.isWalkableAt(p,c+r)&&f.push([p,c+r]),d.isWalkableAt(p+i,c)&&f.push([p+i,c]),(d.isWalkableAt(p,c+r)||d.isWalkableAt(p+i,c))&&f.push([p+i,c+r]),!d.isWalkableAt(p-i,c)&&d.isWalkableAt(p,c+r)&&f.push([p-i,c+r]),!d.isWalkableAt(p,c-r)&&d.isWalkableAt(p+i,c)&&f.push([p+i,c-r])):0===i?d.isWalkableAt(p,c+r)&&(f.push([p,c+r]),d.isWalkableAt(p+1,c)||f.push([p+1,c+r]),d.isWalkableAt(p-1,c)||f.push([p-1,c+r])):d.isWalkableAt(p+i,c)&&(f.push([p+i,c]),d.isWalkableAt(p,c+1)||f.push([p+i,c+1]),d.isWalkableAt(p,c-1)||f.push([p+i,c-1]));else for(l=0,h=(a=d.getNeighbors(t,o.IfAtMostOneObstacle)).length;l<h;++l)s=a[l],f.push([s.x,s.y]);return f},t.exports=r}]);","extractedComments":[]}